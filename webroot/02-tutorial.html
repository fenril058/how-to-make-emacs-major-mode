<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>チュートリアル | Major Modeの作り方から学ぶEmacs Lisp入門</title>
    <link rel="stylesheet" type="text/css" href="css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="css/webstyle.css" />
    <link rel="next" title="記法" href="03-syntax.html">
    <link rel="prev" title="インストール" href="01-install.html">
    <meta name="generator" content="Re:VIEW Starter">
  </head>
  <body>
    <div class="page-outer">
      <nav class="side-content">
                <a class="nav-title" href="index.html">Major Modeの作り方から学ぶEmacs Lisp入門</a>
<ul class="toc toc-1">
    <li class="toc-chapter"><a href="./00-preface.html">まえがき / はじめに</a></li>
    <li class="toc-chapter"><a href="./01-install.html">1 インストール</a></li>
    <li class="toc-chapter"><a href="./02-tutorial.html">2 チュートリアル</a>
      <ul class="toc toc-2">
        <li class="toc-section"><a href="#h2-1">2.1 用語の説明</a></li>
        <li class="toc-section"><a href="#h2-2">2.2 フォルダとファイルの説明</a></li>
        <li class="toc-section"><a href="#h2-3">2.3 原稿の追加と変更</a></li>
        <li class="toc-section"><a href="#h2-4">2.4 基本的な記法</a></li>
        <li class="toc-section"><a href="#h2-5">2.5 印刷用PDFと電子用PDF</a></li>
        <li class="toc-section"><a href="#h2-6">2.6 高速プレビュー</a></li>
      </ul>
    </li>
    <li class="toc-chapter"><a href="./03-syntax.html">3 記法</a></li>
    <li class="toc-chapter"><a href="./04-customize.html">4 カスタマイズ</a></li>
    <li class="toc-chapter"><a href="./05-faq.html">5 FAQ</a></li>
    <li class="toc-chapter"><a href="./06-bestpractice.html">6 よりよい本づくり</a></li>
    <li class="toc-chapter"><a href="./91-compare.html">Re:VIEWとの差分</a></li>
    <li class="toc-chapter"><a href="./92-filelist.html">ファイルとフォルダ</a></li>
    <li class="toc-chapter"><a href="./93-background.html">開発の背景</a></li>
    <li class="toc-chapter"><a href="./99-postface.html">あとがき / おわりに</a></li>
</ul>
      </nav>
      <div class="page-inner">
        <header class="page-header">
        </header>
        <main class="page-main">
<h1 class="boldlines center twolines"><a id="h2"></a><span class="secno">第2章</span> <br/>チュートリアル</h1>
<div class="abstract">
<p>前の章では、RubyとTeXLiveのインストールを説明し、サンプルPDFファイルを生成しました。</p>
<p>この章では、自分で書いた原稿ファイルからPDFファイルを生成する方法を説明します。</p>
<p>なおこの章は、RubyとTeXLiveのインストールが済んでいること、またサンプルのPDFファイルが生成できたことを前提にしています。まだの人は前の章を見てください。</p>
</div>

<h2 id="sec-terminology" class="underline"><a id="h2-1"></a><span class="secno">2.1</span> 用語の説明</h2>
<p>このあとの説明で使用する用語を紹介します。</p>
<dl>
<dt>Starter</dt>
<dd>
    Re:VIEW Starterのことです。
    「Re:VIEW Starter」はちょっと長いので、この文章では省略して「Starter」と呼んでいます。
</dd>
<dt>プロジェクトのzipファイル</dt>
<dd>
    Re:VIEW StarterのWebサイトでプロジェクトを作ったときに、最後にダウンロードされるzipファイルのことです。
    単に「zipファイル」と呼ぶこともあります。
</dd>
<dt><span class="file">mybook.zip</span></dt>
<dd>
    説明で使用するプロジェクトのzipファイル名です。
    これはサンプルであり、実際にはたとえば「<span class="file">samplebook.zip</span>」だったり「<span class="file">brabra-book.zip</span>」だったりします。
</dd>
<dt>プロジェクトのフォルダ</dt>
<dd>
    zipファイルを解凍したときにできるフォルダです。
    たとえばzipファイル名が「<span class="file">mybook.zip</span>」なら、解凍してできるフォルダは「<span class="file">mybook/</span>」なので、これがプロジェクトのフォルダになります。
</dd>
<dt>「<span class="file">mybook/</span>」フォルダ</dt>
<dd>
    プロジェクトのフォルダのことです。
    フォルダ名はあくまでサンプルであり、プロジェクトごとに異なることに注意してください。
</dd>
<dt>原稿ファイル</dt>
<dd>
    原稿となるテキストファイルです。
    これをもとにPDFファイルが生成されます。
    原稿ファイルは拡張子が「<span class="file">.re</span>」なので、「<span class="file">*.re</span>ファイル」と呼ぶこともあります。
    なお文字コードは必ずUTF-8にしてください。
</dd>
<dt><span class="file">*.re</span>ファイル</dt>
<dd>
    原稿ファイルのことです。
    拡張子が「<span class="file">.re</span>」なので、こう呼ばれることがあります。
</dd>
<dt>「<span class="file">contents/</span>」フォルダ</dt>
<dd>
    原稿ファイルが置かれているフォルダです。
    最近のRe:VIEW Starterでは、デフォルトで原稿ファイルを「<span class="file">contents/</span>」フォルダに置くことになっています（以前はプロジェクトのフォルダ直下に置かれていました）。
</dd>
<dt>テキストエディタ</dt>
<dd>
    テキストファイルを作成したり変更するためのアプリケーションのことです。
    単に「エディタ」と呼ぶこともあります。
    有名なものだと「Visual Studio Code」「Atom」「Emacs」「Vim」「サクラエディタ」「秀丸」「メモ帳」などがあります。
</dd>
<dt>エディタ</dt>
<dd>
    テキストエディタのことです。
</dd>
<dt>コンパイル</dt>
<dd>
    原稿ファイルからPDFファイルを生成することです。
    Re:VIEW StarterではPDFだけでなくHTMLやePubのファイルも生成できるので、どの形式を生成するかを明示するなら「PDFへコンパイルする」「ePubへコンパイルする」などと言います。
</dd>
</dl>

<h2 class="underline"><a id="h2-2"></a><span class="secno">2.2</span> フォルダとファイルの説明</h2>
<p>プロジェクトの「<span class="file">mybook.zip</span>」を解凍すると、数多くのファイルが作られます。それらのうち、重要なものを選んで解説します。すべてのファイルについての解説は<a href="./92-filelist.html">付録B「ファイルとフォルダ」</a>を参照してください。</p>
<dl>
<dt><span class="file">catalog.yml</span></dt>
<dd>
	原稿ファイルが順番に並べられたファイルです。
	原稿ファイルを追加した・削除した場合は、このファイルも編集します。
</dd>
<dt><span class="file">config-starter.yml</span></dt>
<dd>
	Starter独自の設定ファイルです。
	Starterでは「<span class="file">cofnig.yml</span>」と「<span class="file">cofnig-starter.yml</span>」の両方を使います。
</dd>
<dt><span class="file">config.yml</span></dt>
<dd>
	Re:VIEWの設定ファイルです。
	Starterによりいくつか変更と拡張がされています。
</dd>
<dt><span class="file">contents/</span></dt>
<dd>
	原稿ファイルを置くフォルダです<sup><a id="fnb-fn-zuxns" href="#fn-fn-zuxns" class="noteref" epub:type="noteref">*1</a></sup>。
</dd>
<dt><span class="file">contents/*.re</span></dt>
<dd>
	原稿ファイルです。
	章(Chapter)ごとにファイルが分かれます。
</dd>
<dt><span class="file">images/</span></dt>
<dd>
	画像ファイルを置くフォルダです。
	この下に章(Chapter)ごとのサブフォルダを作ることもできます。
</dd>
<dt><span class="file">mybook-pdf/</span></dt>
<dd>
	PDFファイルを生成するときの中間生成ファイルが置かれるフォルダです。
	LaTeXファイルをデバッグするときに必要となりますが、通常は気にする必要はありません。
</dd>
<dt><span class="file">mybook.pdf</span></dt>
<dd>
	生成されたPDFファイルです。
	ファイル名はプロジェクトによって異なります。
</dd>
<dt><span class="file">review-ext.rb</span></dt>
<dd>
	Re:VIEWを拡張するためのファイルです。
	このファイルから「<span class="file">lib/ruby/*.rb</span>」が読み込まれています。
</dd>
<dt><span class="file">sty/</span></dt>
<dd>
	LaTeXで使うスタイルファイルが置かれるフォルダです。
</dd>
<dt><span class="file">sty/mycolophon.sty</span></dt>
<dd>
	奥付<sup><a id="fnb-fn-7ypmf" href="#fn-fn-7ypmf" class="noteref" epub:type="noteref">*2</a></sup>の内容が書かれたスタイルファイルです。
	奥付を変更したい場合はこのファイルを編集します。
</dd>
<dt><span class="file">sty/mystyle.sty</span></dt>
<dd>
	ユーザが独自にLaTeXマクロを定義・上書きするためのファイルです。
	中身は空であり、ユーザが自由に追加して構いません。
</dd>
<dt><span class="file">sty/mytextsize.sty</span></dt>
<dd>
	PDFにおける本文の高さと幅を定義したファイルです。
	LaTeXでは最初に本文の高さと幅を決める必要があるので、他のスタイルファイルから分離されてコンパイルの最初に読み込めるようになっています。
</dd>
<dt><span class="file">sty/mytitlepage.sty</span></dt>
<dd>
	大扉<sup><a id="fnb-fn-cq9ws" href="#fn-fn-cq9ws" class="noteref" epub:type="noteref">*3</a></sup>の内容が書かれたスタイルファイルです。
	大扉のデザインを変更したい場合はこのファイルを編集します。
</dd>
<dt><span class="file">sty/starter*.sty</span></dt>
<dd>
	Starter独自のスタイルファイルです。
	ここに書かれたLaTeXマクロを変更したい場合は、このファイルを変更するよりも「<span class="file">sty/mystyle.sty</span>」に書いたほうがバージョンアップがしやすくなります。
</dd>
</dl>
<div class="footnote-list">
<div class="footnote" id="fn-fn-zuxns" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*1] </span>原稿ファイルを置くフォルダ名は「<span class="file">config.yml</span>」の「<code class="inline-code">contentdir: contents</code>」で変更できます。</p></div>
<div class="footnote" id="fn-fn-7ypmf" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*2] </span><em>奥付</em>とは、本のタイトルや著者や出版社や版や刷などの情報が書かれたページのことです。通常は本のいちばん最後のページに置かれます。</p></div>
<div class="footnote" id="fn-fn-cq9ws" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*3] </span><em>大扉</em>とは、タイトルページのことです。表紙のことではありません。</p></div>
</div><!--/.footnote-list-->

<h2 class="underline"><a id="h2-3"></a><span class="secno">2.3</span> 原稿の追加と変更</h2>
<p>原稿の追加と変更の方法を説明します。</p>
<p>原稿の追加より変更のほうが簡単なので、変更する方法を先に説明します。</p>

<h3 class="none"><a id="h2-3-1"></a><span class="secno">2.3.1</span> 既存の原稿ファイルを変更する</h3>
<p>プロジェクトのフォルダには、サンプルとなる原稿ファイルが存在します。まずはこれを変更してみましょう。</p>
<ol class="ol-none">
<li data-mark="(1)"><span class="li-mark">(1) </span>まず、お好みのテキストエディタを使って「<span class="file">mybook/contents/00-preface.re</span>」を開いてください。
</li>
<li data-mark="(2)"><span class="li-mark">(2) </span>次に、先頭の「<code class="inline-code">= はじめに</code>」の下に何か適当なテキストを追加して（例：<span class="listref"><a href="./02-tutorial.html#6f3fh">リスト2.1</a></span>）、原稿ファイルを保存してください。
</li>
<li data-mark="(3)"><span class="li-mark">(3) </span>原稿ファイルを保存したら、コンパイル<sup><a id="fnb-fn-r19pw" href="#fn-fn-r19pw" class="noteref" epub:type="noteref">*4</a></sup>しましょう。
       MacならTerminal.app<sup><a id="fnb-f90kk" href="#fn-f90kk" class="noteref" epub:type="noteref">*5</a></sup>、Windowsならコマンドプロンプトを開き、「<code class="inline-code">rake pdf</code>」（またはDockerを使っているなら「<code class="inline-code">rake docker:pdf</code>」）を実行してください。
</li>
</ol>
<div class="footnote-list">
<div class="footnote" id="fn-fn-r19pw" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*4] </span>「コンパイル」とは、ここでは原稿ファイルからPDFファイル（またはHTMLやePub）を生成することです。このあとも使う用語なので覚えてください。また用語については「<a href="02-tutorial.html#h2-1">2.1 用語の説明</a>」も参照してください。</p></div>
</div><!--/.footnote-list-->
<div id="id_6f3fh" class="caption-code">
<span class="caption">リスト2.1: リスト2.1: 原稿ファイルの内容</span>
<pre class="list">= はじめに

<b>見ろ、人がゴミのようだ！</b>       <span class="balloon">← 追加</span>

...（以下省略）...
</pre>
</div>
<div class="footnote-list">
<div class="footnote" id="fn-f90kk" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*5] </span>Terminal.appは、ファインダで「アプリケーション」フォルダ &gt; 「ユーティリティ」フォルダ &gt; 「ターミナル」をダブルクリックすると起動できます。</p></div>
</div><!--/.footnote-list-->
<p>これで新しいPDFファイルが生成されるはずです。生成された新しいPDFファイルを開き、さきほど追加した行が「はじめに」の章に表示されていることを確認してください。</p>
<div class="note">
<h5>プロジェクトのフォルダに原稿ファイルがあるとコンパイルエラー</h5>
<p>Starterのデフォルトでは、原稿ファイル(<span class="file">*.re</span>)を「<span class="file">contents/</span>」フォルダに置くよう設定されています。この場合、もし原稿ファイルがプロジェクトのフォルダ（たとえば「<span class="file">mybook/</span>」の直下）にあると、コンパイル<sup><a id="fnb-fn-zt1bb" href="#fn-fn-zt1bb" class="noteref" epub:type="noteref">*6</a></sup>できずエラーになります。</p>
<p>エラーになるのは、Starterの仕組みに起因します。Starterではコンパイル時に、「<span class="file">contents/</span>」に置かれた原稿ファイル（<span class="file">*.re</span>）をプロジェクトフォルダの直下にコピーしてからコンパイルします）<sup><a id="fnb-fn-g6oit" href="#fn-fn-g6oit" class="noteref" epub:type="noteref">*7</a></sup>。そのため、プロジェクトフォルダ直下に別の原稿ファイルがあるとコンパイル時に上書きしてしまう可能性があるため、あえてエラーにしているのです。</p>
<div class="footnote-list">
<div class="footnote" id="fn-fn-zt1bb" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*6] </span><em>コンパイル</em>とは、ここでは原稿ファイルからPDFファイルを生成することを指します。</p></div>
<div class="footnote" id="fn-fn-g6oit" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*7] </span>Re:VIEW 2.5の仕様上、コンパイル時に原稿ファイルがプロジェクトフォルダの直下にないといけないため。</p></div>
</div><!--/.footnote-list-->
</div>
<p>ここまでが、既存の原稿ファイルを変更する方法でした。次に、新しい原稿ファイルを追加する方法を説明します。</p>

<h3 class="none"><a id="h2-3-2"></a><span class="secno">2.3.2</span> 新しい原稿ファイルを追加する</h3>
<p>新しい原稿ファイルを追加するには、次のようにします。</p>
<ol class="ol-none">
<li data-mark="(1)"><span class="li-mark">(1) </span>新しい原稿ファイルを作成する。
</li>
<li data-mark="(2)"><span class="li-mark">(2) </span>作成した原稿ファイルをプロジェクトに登録する。
</li>
<li data-mark="(3)"><span class="li-mark">(3) </span>PDFファイルを生成し、原稿の内容が反映されることを確認する。
</li>
</ol>
<p>順番に説明しましょう。</p>

<h5><a id="h2-3-2-0-1"></a>(1) 新しい原稿ファイルを作成する</h5>
<p>お好みのテキストエディタを使って、新しい原稿ファイル「<span class="file">01-test.re</span>」を作成します。</p>
<p>このとき、次の点に注意してください。</p>
<ul>
<li>原稿ファイルの拡張子は「<span class="file">.re</span>」にします。
</li>
<li>原稿ファイルの置き場所は「<span class="file">contents/</span>」フォルダにします。
   つまりファイルパスは「<span class="file">mybook/contents/01-test.re</span>」になります。
</li>
<li>原稿ファイルの文字コードは「UTF-8」にします。
</li>
</ul>
<p>新しい原稿ファイル「<span class="file">contents/01-test.re</span>」の中身は、たとえば<span class="listref"><a href="./02-tutorial.html#wrmlp">リスト2.2</a></span>のようにしてください。</p>
<div id="wrmlp" class="caption-code">
<span class="caption">リスト2.2: リスト2.2: 原稿ファイル「&lt;span class=&quot;file&quot;&gt;contents/01-test.re&lt;/span&gt;」</span>
<pre class="list">= サンプル章タイトル

//abstract{
概要概要概要
//}

== サンプル節タイトル
本文本文本文
</pre>
</div>
<div class="note">
<h5>原稿ファイルに番号をつけるべきか</h5>
<p>この例では原稿ファイル名を「<span class="file">01-test.re</span>」にしました。しかしファイル名に「<span class="file">01-</span>」のような番号は、必ずしもつける必要はありません（つけてもいいし、つけなくてもいい）。</p>
<p>ファイル名に番号をつけるのは、利点と欠点があります。</p>
<ul>
<li>利点は、MacのファインダやWindowsのエクスプローラで表示したときに、ファイルが章の順番に並ぶことです。
</li>
<li>欠点は、章の順番を入れ替えるときにファイル名の変更が必要なこと、またそれにより章ID<sup><a id="fnb-fn-9yivn" href="#fn-fn-9yivn" class="noteref" epub:type="noteref">*8</a></sup>が変わるのでその章や節を参照している箇所もすべて変更になることです。
   番号をつけていない場合は、「<span class="file">catalog.yml</span>」での順番を入れ替えるだけで済み、参照箇所も修正する必要はありません。
</li>
</ul>
<div class="footnote-list">
<div class="footnote" id="fn-fn-9yivn" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*8] </span>章IDについては「<a href="03-syntax.html#h3-3-4">3.3.4 章ID</a>」で説明します。</p></div>
</div><!--/.footnote-list-->
<p>自分の好きなほうを選んでください。</p>
</div>

<h5><a id="h2-3-2-0-2"></a>(2) 原稿ファイルをプロジェクトに登録する</h5>
<p>次に、作成した原稿ファイルをプロジェクトに登録しましょう。プロジェクトのフォルダにある「<span class="file">catalog.yml</span>」をテキストエディタで開き、<span class="listref"><a href="./02-tutorial.html#g9t1b">リスト2.3</a></span>のように変更してください。なお、このファイルでは「<code class="inline-code">#</code>」以降は行コメントであり読み飛ばされます。</p>
<div id="g9t1b" class="caption-code">
<span class="caption">リスト2.3: リスト2.3: ファイル「&lt;span class=&quot;file&quot;&gt;catalog.yml&lt;/span&gt;」</span>
<pre class="list">PREDEF:
  - 00-preface.re

CHAPS:
  <del>- 01-install.re</del>   <span class="balloon">← この行を削除</span>
  <b>- 01-test.re</b>      <span class="balloon">← この行を追加</span>
  - 02-tutorial.re

APPENDIX:

POSTDEF:
  - 99-postface.re

##
## ■Tips
## ...（以下省略）...
</pre>
</div>
<p>ファイルを変更したら、忘れずに保存してください。</p>
<p>これで、新しい原稿ファイルがプロジェクトに登録できました。</p>

<h5><a id="h2-3-2-0-3"></a>(3) PDFファイルを生成し、原稿の内容が反映されたか確認する</h5>
<p>試しにPDFファイルを生成してみましょう。MacならTerminal.app、Windowsならコマンドプロンプトを開き、次のコマンドを実行してください。</p>
<div class="cmd-code">
<span class="caption">PDFファイルを生成する</span>
<pre class="list">$ <span class="userinput">rake pdf</span>          <span class="balloon">← Dockerを使っていない場合</span>
$ <span class="userinput">rake docker:pdf</span>   <span class="balloon">← Dockerを使っている場合</span>
</pre>
</div>
<p>新しいPDFファイルが生成されるので、表示してみてください。新しい原稿ファイルの章が追加されていれば成功です。</p>

<h3 class="none"><a id="h2-3-3"></a><span class="secno">2.3.3</span> 「<span class="file">catalog.yml</span>」の説明</h3>
<p>「<span class="file">catalog.yml</span>」の内容は次のような構造になっています。</p>
<ul>
<li>「<code class="inline-code">PREDEF:</code>」は「まえがき」を表します。
</li>
<li>「<code class="inline-code">CHAPS:</code>」は本文を表します。
</li>
<li>「<code class="inline-code">APPENDIX:</code>」は付録を表します。
</li>
<li>「<code class="inline-code">POSTDEF:</code>」は「あとがき」を表します。
</li>
</ul>
<div class="caption-code">
<span class="caption">ファイル「&lt;span class=&quot;file&quot;&gt;catalog.yml&lt;/span&gt;」</span>
<pre class="list"><b>PREDEF:</b>
  - 00-preface.re      <span class="balloon">← まえがきの章</span>

<b>CHAPS:</b>
  - 01-install.re      <span class="balloon">← 本文の章</span>
  - 02-tutorial.re     <span class="balloon">← 本文の章</span>
  - 03-syntax.re       <span class="balloon">← 本文の章</span>

<b>APPENDIX:</b>
  - 92-filelist.re     <span class="balloon">← 付録の章</span>

<b>POSTDEF:</b>
  - 99-postfix.re      <span class="balloon">← あとがきの章</span>
</pre>
</div>
<p>また次のような点に注意してください。</p>
<ul>
<li>まえがきや付録やあとがきは、なければ省略できます。
</li>
<li>まえがきとあとがきには、章番号や節番号がつきません。
</li>
<li>目次はまえがきのあとに自動的につけられます<sup><a id="fnb-fn-qyuwz" href="#fn-fn-qyuwz" class="noteref" epub:type="noteref">*9</a></sup>。
</li>
<li>大扉（タイトルページ）や奥付も自動的につけられます<sup><a id="fnb-fn-fa6pt" href="#fn-fn-fa6pt" class="noteref" epub:type="noteref">*10</a></sup>。
</li>
</ul>
<div class="footnote-list">
<div class="footnote" id="fn-fn-qyuwz" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*9] </span>目次をつけたくない場合は、「<span class="file">config.yml</span>」に「<code class="inline-code">toc: false</code>」を設定してください。</p></div>
<div class="footnote" id="fn-fn-fa6pt" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*10] </span>大扉をつけたくない場合は、「<span class="file">config.yml</span>」に「<code class="inline-code">titlepage: false</code>」を設定してください。また奥付をつけたくない場合は「<code class="inline-code">colophon: false</code>」を設定してください。</p></div>
</div><!--/.footnote-list-->
<div class="note">
<h5>YAML形式</h5>
<p>「<span class="file">catalog.yml</span>」の内容は、「YAML」という形式で書かれています。YAMLについてはGoogle検索で調べてください。ここでは3点だけ注意点を紹介します。</p>
<ul>
<li>タブ文字を使わないこと。
</li>
<li>「<code class="inline-code">-</code>」のあとに半角空白をつけること。
</li>
<li>「<code class="inline-code">#</code>」以降は行コメントとして読み飛ばされる。
</li>
</ul>
</div>

<h3 id="subsec-compileerror" class="none"><a id="h2-3-4"></a><span class="secno">2.3.4</span> コンパイルエラーになったら</h3>
<p>PDFファイルの生成がエラーになったら、以下の点を確認してください。</p>
<ul>
<li>インライン命令がきちんと閉じているか
</li>
<li>ブロック命令の引数が足りているか、多すぎないか
</li>
<li>「<code class="inline-code">//}</code>」が足りてないか、または多すぎないか
</li>
<li>「<code class="inline-code">@&lt;fn&gt;{}</code>」や「<code class="inline-code">@&lt;img&gt;{}</code>」や「<code class="inline-code">@&lt;table&gt;{}</code>」のラベルが合っているか
</li>
<li>「<code class="inline-code">@&lt;chapref&gt;{}</code>」で指定した章IDが合っているか
</li>
<li>「<code class="inline-code">@&lt;secref&gt;{}</code>」で指定した節や項が存在するか
</li>
<li>脚注の中で「<code class="inline-code">]</code>」を「<code class="inline-code">\]</code>」とエスケープしているか
</li>
<li>「<code class="inline-code">//image</code>」で指定した画像ファイルが存在するか
</li>
<li>原稿ファイル名を間違っていないか
</li>
<li>原稿ファイルの文字コードがUTF-8になっているか
</li>
<li>索引に何も登録してないのに索引機能をオンにしていないか（詳細は「<a href="03-syntax.html#h3-17">3.17 用語、索引</a>」を参照）
</li>
</ul>
<p>詳しくは「<a href="05-faq.html#h5-1">5.1 コンパイルエラー</a>」を見てください。</p>
<p>それでもエラーになる場合は、中間ファイルを削除してみましょう。たとえばプロジェクト名が「<span class="file">mybook</span>」だったら、「<span class="file">mybook-pdf</span>」というフォルダが作られているはずです。これを削除してから、コンパイルし直してみてください。</p>
<div class="cmd-code">
<span class="caption">中間ファイルを削除してコンパイルし直す</span>
<pre class="list">$ <span class="userinput">rm -rf mybook-pdf</span>       <span class="balloon">← 中間ファイルを削除して、</span>
$ <span class="userinput">rake pdf</span>                <span class="balloon">← コンパイルし直す</span>
</pre>
</div>
<p>それでもダメなら、「<a href="https://twitter.com/search?q=%23reviewstarter" class="link">#reviewstarter</a>」というタグでツイートしていただければ、相談に乗ります。</p>

<h3 class="none"><a id="h2-3-5"></a><span class="secno">2.3.5</span> 文章をチェックする</h3>
<p>Starterでは、「textlint」というツールを使って原稿の文章をチェックできます。</p>
<p>たとえば「Starterを使うときれいなPDFを作成<span class="bou">することが</span>できます」という文章は、「Starterを使うときれいなPDFを作成<span class="bou">できます</span>」のように簡潔にできます。このような指摘を行ってくれるのがtextlintです。</p>
<p>textlintをStarterのプロジェクトで使う方法は、「<a href="06-bestpractice.html#h6-11">6.11 textlintによる文章チェック</a>」で解説しています。今はまだtextlintを使う必要はありませんが、Starterに慣れてきたら使ってみてください。</p>

<h2 id="sec-basicsyntax" class="underline"><a id="h2-4"></a><span class="secno">2.4</span> 基本的な記法</h2>
<p>原稿ファイルは、ある決まった書き方（記法）に従って記述します。たとえば、次のような記法があります。</p>
<ul>
<li>章(Chapter)は「<code class="inline-code">= </code>」で始め、節(Section)は「<code class="inline-code">== </code>」で始める。
</li>
<li>箇条書きは「<code class="inline-code"> * </code>」で始める。
</li>
<li>プログラムコードは「<code class="inline-code">//list{...//}</code>」で囲う。
</li>
<li>強調は「<code class="inline-code">@&lt;strong&gt;{...}</code>」または「<code class="inline-code">@&lt;B&gt;{...}</code>」で囲う。
</li>
</ul>
<p>ここでは記法のうち基本的なものを説明します。詳しいことは<a href="./03-syntax.html">第3章「記法」</a>で説明します。</p>

<h3 class="none"><a id="h2-4-1"></a><span class="secno">2.4.1</span> コメント</h3>
<p>行コメントは「<code class="inline-code">#@#</code>」で、また範囲コメントは「<code class="inline-code">#@+++</code>」と「<code class="inline-code">#@---</code>」で表します。どちらも行の先頭から始まってないと、コメントとして認識されません。</p>
<div class="caption-code">
<span class="caption">サンプル</span>
<pre class="list">本文1。
<b>#@#</b>本文2。
本文3。

<b>#@+++</b>
本文4。
<b>#@---</b>
本文5。
</pre>
</div>
<div class="sampleoutput">
<span class="caption">表示結果</span>
<div class="sampleoutput-inner">
<p>本文1。本文3。</p>
<p>本文5。</p>
</div></div>
<p>詳しくは「<a href="03-syntax.html#h3-1">3.1 コメント</a>」を参照してください。</p>

<h3 class="none"><a id="h2-4-2"></a><span class="secno">2.4.2</span> 段落と改行</h3>
<p>空行があると、新しい段落になります。改行は無視されるか、または半角空白扱いになります。通常は1文ごとに改行して書きます。</p>
<div class="caption-code">
<span class="caption">サンプル</span>
<pre class="list">言葉を慎みたまえ。君はラピュタ王の前にいるのだ。

これから王国の復活を祝って、諸君にラピュタの力を見せてやろうと思ってね。
見せてあげよう、ラピュタの雷を！

旧約聖書にあるソドムとゴモラを滅ぼした天の火だよ。
ラーマヤーナではインドラの矢とも伝えているがね。
</pre>
</div>
<div class="sampleoutput">
<span class="caption">表示結果</span>
<div class="sampleoutput-inner">
<p>言葉を慎みたまえ。君はラピュタ王の前にいるのだ。</p>
<p>これから王国の復活を祝って、諸君にラピュタの力を見せてやろうと思ってね。見せてあげよう、ラピュタの雷を！</p>
<p>旧約聖書にあるソドムとゴモラを滅ぼした天の火だよ。ラーマヤーナではインドラの矢とも伝えているがね。</p>
</div></div>
<p>詳しくは「<a href="03-syntax.html#h3-2">3.2 段落と改行と空行</a>」を参照してください。</p>

<h3 class="none"><a id="h2-4-3"></a><span class="secno">2.4.3</span> 見出し</h3>
<p>章(Chapter)や節(Section)といった見出しは、「<code class="inline-code">= </code>」や「<code class="inline-code">== </code>」で始めます。また章には概要を書くといいでしょう。</p>
<div class="caption-code">
<span class="caption">サンプル</span>
<pre class="list"><b>=</b> 章(Chapter)見出し

<b>//abstract{</b>
章の概要。
<b>//}</b>

<b>==</b> 節(Section)見出し

<b>===</b> 項(Subsection)見出し

<b>====</b> 目(Subsubsection)見出し

<b>=====</b> 段(Paragraph)見出し

<b>======</b> 小段(Subparagraph)見出し
</pre>
</div>
<p>Starterでは、章(Chapter)は1ファイルにつき1つだけにしてください。1つのファイルに複数の章(Chapter)を入れないでください。</p>
<p>見出しについての詳細は「<a href="03-syntax.html#h3-3">3.3 見出し</a>」を参照してください。</p>

<h3 class="none"><a id="h2-4-4"></a><span class="secno">2.4.4</span> 箇条書き</h3>
<p>番号なし箇条書きは「<code class="inline-code"> * </code>」で始めます（先頭に半角空白が必要）。</p>
<div class="caption-code">
<span class="caption">サンプル</span>
<pre class="list"><b> * </b>箇条書き1
<b> * </b>箇条書き2
<b> ** </b>入れ子の箇条書き
<b> *** </b>入れ子の入れ子
</pre>
</div>
<div class="sampleoutput">
<span class="caption">表示結果</span>
<div class="sampleoutput-inner">
<ul>
<li>箇条書き1
</li>
<li>箇条書き2
<ul>
<li>入れ子の箇条書き
<ul>
<li>入れ子の入れ子
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div></div>
<p>番号つき箇条書きは「<code class="inline-code"> 1. </code>」のように始める方法と、「<code class="inline-code"> - A. </code>」のように始める方法があります（どちらも先頭に半角空白が必要）。後者では番号の自動採番はされず、指定された文字列がそのまま出力されます。</p>
<div class="caption-code">
<span class="caption">サンプル</span>
<pre class="list"> <b>1.</b> この記法では数字しか指定できず、
 <b>2.</b> また入れ子にもできない。

 <b>- (A)</b> この記法だと、英数字だけでなく
 <b>- (B)</b> 任意の文字列が使える
 <b>-- (B-1)</b> 入れ子もできるし、
 <b>***</b> 番号なし箇条書きも含められる
</pre>
</div>
<div class="sampleoutput">
<span class="caption">表示結果</span>
<div class="sampleoutput-inner">
<ol start="1" type="1">
<li>この記法では数字しか指定できず、</li>
<li>また入れ子にもできない。</li>
</ol>
<ol class="ol-none">
<li data-mark="(A)"><span class="li-mark">(A) </span>この記法だと、英数字だけでなく
</li>
<li data-mark="(B)"><span class="li-mark">(B) </span>任意の文字列が使える
<ol class="ol-none">
<li data-mark="(B-1)"><span class="li-mark">(B-1) </span>入れ子もできるし、
<ul>
<li>番号なし箇条書きも含められる
</li>
</ul>
</li>
</ol>
</li>
</ol>
</div></div>
<p>箇条書きの詳細は「<a href="03-syntax.html#h3-4">3.4 箇条書きと定義リスト</a>」を参照してください。</p>

<h3 class="none"><a id="h2-4-5"></a><span class="secno">2.4.5</span> 用語リスト</h3>
<p>用語リスト（HTMLでいうところの「<code class="inline-code">&lt;dl&gt;&lt;dt&gt;&lt;dd&gt;</code>」）は、「<code class="inline-code"> : </code>」で始めて<sup><a id="fnb-axm3t" href="#fn-axm3t" class="noteref" epub:type="noteref">*11</a></sup>、次の行からインデントします<sup><a id="fnb-diwmv" href="#fn-diwmv" class="noteref" epub:type="noteref">*12</a></sup>。</p>
<div class="footnote-list">
<div class="footnote" id="fn-axm3t" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*11] </span>先頭の半角空白は入れるようにしましょう。過去との互換性のため、先頭の半角空白がなくても動作しますが、箇条書きとの整合性のために半角空白を入れることを勧めます。</p></div>
<div class="footnote" id="fn-diwmv" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*12] </span>説明文のインデントは、半角空白でもタブ文字でもいいです。</p></div>
</div><!--/.footnote-list-->
<div class="caption-code">
<span class="caption">サンプル</span>
<pre class="list"><b> : </b>用語1
    説明文。
    説明文。
<b> : </b>用語2
    説明文。
    説明文。
</pre>
</div>
<div class="sampleoutput">
<span class="caption">表示結果</span>
<div class="sampleoutput-inner">
<dl>
<dt>用語1</dt>
<dd>
    説明文。
    説明文。
</dd>
<dt>用語2</dt>
<dd>
    説明文。
    説明文。
</dd>
</dl>
</div></div>
<p>詳しくは「<a href="03-syntax.html#h3-4-3">3.4.3 定義リスト</a>」を参照してください。</p>

<h3 class="none"><a id="h2-4-6"></a><span class="secno">2.4.6</span> 太字と強調</h3>
<p>太字は「<code class="inline-code">@&lt;b&gt;{...}</code>」で囲み、強調は「<code class="inline-code">@&lt;B&gt;{...}</code>」または「<code class="inline-code">@&lt;strong&gt;{...}</code>」で囲みます。強調は、太字になるだけでなくフォントがゴシック体になります。</p>
<div class="caption-code">
<span class="caption">サンプル</span>
<pre class="list">テキスト<b>@&lt;b&gt;{</b>テキスト<b>}</b>テキスト。

テキスト<b>@&lt;B&gt;{</b>テキスト<b>}</b>テキスト。
</pre>
</div>
<div class="sampleoutput">
<span class="caption">表示結果</span>
<div class="sampleoutput-inner">
<p>テキスト<b>テキスト</b>テキスト。</p>
<p>テキスト<strong>テキスト</strong>テキスト。</p>
</div></div>
<p>日本語の文章では、強調するときは太字のゴシック体にするのがよいとされています。なので強調には「<code class="inline-code">@&lt;B&gt;{...}</code>」または「<code class="inline-code">@&lt;strong&gt;{...}</code>」を使い、「<code class="inline-code">@&lt;b&gt;{...}</code>」は使わないでください。</p>
<p>強調や太字などテキストの装飾についての詳細は「<a href="03-syntax.html#h3-6">3.6 強調と装飾</a>」を参照してください。</p>
<div class="note">
<h5>インライン命令</h5>
<p>「<code class="inline-code">@&lt;B&gt;{...}</code>」のような記法は<em>インライン命令</em>と呼ばれます。インライン命令は入れ子にできますが（Starterによる拡張）、複数行を含めることはできません。詳細は「<a href="03-syntax.html#h3-5-1">3.5.1 インライン命令</a>」を見てください。</p>
</div>

<h3 class="none"><a id="h2-4-7"></a><span class="secno">2.4.7</span> 等幅フォント</h3>
<p>文字列を等幅フォントで表示するには、「<code class="inline-code">@&lt;tt&gt;{...}</code>」を使います。ただしこれを使うことはお勧めしません。それよりも、それぞれの用途に合ったインライン命令を使いましょう。</p>
<ul>
<li>プログラムコードやコマンド文字列を表すには「<code class="inline-code">@&lt;code&gt;{...}</code>」を使ってください。
   違いの分かりやすい例でいうと、たとえば「<code class="inline-code">@&lt;tt&gt;{'`}</code>」は「<tt>'`</tt>」と表示され、「<code class="inline-code">@&lt;code&gt;{'`}</code>」は「<code class="inline-code">'`</code>」と表示されます<sup><a id="fnb-fn-j2dx9" href="#fn-fn-j2dx9" class="noteref" epub:type="noteref">*13</a></sup>。
</li>
<li>ファイル名を表すには「<code class="inline-code">@&lt;file&gt;{...}</code>」を使ってください。
   等幅フォントではなくゴシック体で表示されます。
</li>
</ul>
<div class="footnote-list">
<div class="footnote" id="fn-fn-j2dx9" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*13] </span>使用する等幅フォントによっては同じように表示されます。</p></div>
</div><!--/.footnote-list-->

<h3 class="none"><a id="h2-4-8"></a><span class="secno">2.4.8</span> プログラムリスト</h3>
<p>プログラムリストは「<code class="inline-code">//list[ラベル][説明文]{ ... //}</code>」で囲みます。</p>
<ul>
<li>ラベルは、他と重複しない文字列にします。
</li>
<li>「<code class="inline-code">@&lt;list&gt;{ラベル名}</code>」のようにプログラムリストを参照できます。
</li>
<li>説明文に「<code class="inline-code">]</code>」を含める場合は、「<code class="inline-code">\]</code>」のようにエスケープします。
</li>
</ul>
<div class="caption-code">
<span class="caption">サンプル</span>
<pre class="list">サンプルコードを<b>@&lt;list&gt;{fib1}</b>に示します。

<b>//list[fib1][フィボナッチ数列]</b>{
def fib(n):
    return n if n &lt;= 1 else fib(n-1) + fib(n-2)
<b>//}</b>
</pre>
</div>
<div class="sampleoutput">
<span class="caption">表示結果</span>
<div class="sampleoutput-inner">
<p>サンプルコードを<span class="listref"><a href="./02-tutorial.html#fib1">リスト2.4</a></span>に示します。</p>
<div id="fib1" class="caption-code">
<span class="caption">リスト2.4: リスト2.4: フィボナッチ数列</span>
<pre class="list">def fib(n):
    return n if n &lt;= 1 else fib(n-1) + fib(n-2)
</pre>
</div>
</div></div>
<p>第1引数と第2引数のどちらも、省略できます。たとえば第1引数だけを省略するには「<code class="inline-code">//list[][説明]{</code>」のようにします。両方とも省略するには「<code class="inline-code">//list[][]{</code>」または「<code class="inline-code">//list{</code>」のようにします。</p>
<p>またプログラムリストの中で、インライン命令が使えます<sup><a id="fnb-id_0hz8w" href="#fn-id_0hz8w" class="noteref" epub:type="noteref">*14</a></sup>。たとえば次の例では、追加した箇所を「<code class="inline-code">@&lt;ins&gt;{...}</code>」で、削除した箇所を「<code class="inline-code">@&lt;del&gt;{...}</code>」で表しています。</p>
<div class="footnote-list">
<div class="footnote" id="fn-id_0hz8w" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*14] </span>プログラムリストの中では、「<code class="inline-code">@&lt;B&gt;{}</code>」（強調）ではなく「<code class="inline-code">@&lt;b&gt;{}</code>」（太字）を使ってください。なぜなら、「<code class="inline-code">@&lt;B&gt;{}</code>」を使うとフォントが等幅フォントからゴシック体に変更されてしまい、表示がずれてしまうからです。</p></div>
</div><!--/.footnote-list-->
<div class="caption-code">
<span class="caption">サンプル</span>
<pre class="list">//list{
function fib(n) {
  <b>@&lt;del&gt;|</b>if (n &lt;= 1) { return n; }<b>|</b>
  <b>@&lt;del&gt;|</b>else        { return fib(n-1) + fib(n-2); }<b>|</b>
  <b>@&lt;ins&gt;|</b>return n &lt;= 1 ? n : fib(n-1) + fib(n-2);<b>|</b>
}
//}
</pre>
</div>
<div class="sampleoutput">
<span class="caption">表示結果</span>
<div class="sampleoutput-inner">
<div class="caption-code">
<pre class="emlist">function fib(n) {
  <del>if (n &lt;= 1) { return n; }</del>
  <del>else        { return fib(n-1) + fib(n-2); }</del>
  <ins>return n &lt;= 1 ? n : fib(n-1) + fib(n-2);</ins>
}
</pre>
</div>
</div></div>
<p>その他、行番号をつけたり外部ファイルを読み込んだりできます。プログラムコードについての詳細は「<a href="03-syntax.html#h3-7">3.7 プログラムリスト</a>」を参照してください。</p>
<p>また出力結果を表す「<code class="inline-code">//output</code>」という命令もあります。詳細は「<a href="03-syntax.html#h3-7-10">3.7.10 出力結果</a>」を参照してください。</p>
<div class="note">
<h5>ブロック命令</h5>
<p>「<code class="inline-code">//list{ ... //}</code>」のような形式の命令を、<strong>ブロック命令</strong>といいます。ブロック命令は入れ子にできますが（Starterによる拡張）、できないものもあります。詳細は「<a href="03-syntax.html#h3-5-2">3.5.2 ブロック命令</a>」を見てください。</p>
</div>

<h3 class="none"><a id="h2-4-9"></a><span class="secno">2.4.9</span> ターミナル画面</h3>
<p>ターミナル（端末）の画面は、「<code class="inline-code">//terminal{ ... //}</code>」を使います。次の例では、引数にラベル名と説明文字列を指定します。また「<code class="inline-code">@&lt;userinput&gt;{...}</code>」はユーザ入力を表します。</p>
<div class="caption-code">
<span class="caption">サンプル</span>
<pre class="list"><b>//terminal[term-1][PDFを生成]{</b>
$ @&lt;userinput&gt;{rake pdf}          @&lt;balloon&gt;{Dockerを使わない場合}
$ @&lt;userinput&gt;{rake docker:pdf}   @&lt;balloon&gt;{Dockerを使う場合}
<b>//}</b>
</pre>
</div>
<div class="sampleoutput">
<span class="caption">表示結果</span>
<div class="sampleoutput-inner">
<div id="term-1" class="cmd-code">
<span class="caption">リスト2.5: リスト2.5: PDFを生成</span>
<pre class="list">$ <span class="userinput">rake pdf</span>          <span class="balloon">← Dockerを使わない場合</span>
$ <span class="userinput">rake docker:pdf</span>   <span class="balloon">← Dockerを使う場合</span>
</pre>
</div>
</div></div>
<p>ラベル名を指定していれば、プログラムリストと同じように「<code class="inline-code">@&lt;list&gt;{ラベル名}</code>」で参照できます。またラベル名と説明文字列はどちらも省略可能です。どちらも省略すると「<code class="inline-code">//terminal{ ... //}</code>」のように書けます。</p>
<p>詳しくは「<a href="03-syntax.html#h3-9">3.9 ターミナル</a>」を参照してください。</p>

<h3 class="none"><a id="h2-4-10"></a><span class="secno">2.4.10</span> 脚注</h3>
<p>脚注は、脚注をつけたい箇所に「<code class="inline-code">@&lt;fn&gt;{ラベル}</code>」をつけ、段落の終わりに「<code class="inline-code">//footnote[ラベル][脚注文]</code>」を書きます。脚注文の中では「<code class="inline-code">]</code>」を「<code class="inline-code">\]</code>」と書いてください。</p>
<div class="caption-code">
<span class="caption">サンプル</span>
<pre class="list">本文テキスト<b>@&lt;fn&gt;{fn-12}</b>。

<b>//footnote[fn-12][このように脚注文を書きます。]</b>
</pre>
</div>
<div class="sampleoutput">
<span class="caption">表示結果</span>
<div class="sampleoutput-inner">
<p>本文テキスト<sup><a id="fnb-fn-12" href="#fn-fn-12" class="noteref" epub:type="noteref">*15</a></sup>。</p>
<div class="footnote-list">
<div class="footnote" id="fn-fn-12" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*15] </span>このように脚注文を書きます。</p></div>
</div><!--/.footnote-list-->
</div></div>

<h3 class="none"><a id="h2-4-11"></a><span class="secno">2.4.11</span> 図</h3>
<p>図を入れるには、「<code class="inline-code">//image[画像ファイル名][説明文][オプション]</code>」を使います。</p>
<ul>
<li>画像ファイルは「<span class="file">images/</span>」フォルダに置きます。
</li>
<li>画像ファイルの拡張子は指定しません。
</li>
<li>ラベルを使って「<code class="inline-code">@&lt;img&gt;{ラベル}</code>」のように参照できます。
</li>
</ul>
<div class="caption-code">
<span class="caption">サンプル</span>
<pre class="list"><b>//image[tw-icon][サンプル画像][scale=0.3]</b>
</pre>
</div>
<div class="sampleoutput">
<span class="caption">表示結果</span>
<div class="sampleoutput-inner">
<div id="tw-icon" class="image">
<img src="images/tw-icon.jpg" alt="サンプル画像" class="img width-030per" />
<p class="caption">
図2.1: サンプル画像
</p>
</div>
</div></div>
<p>Starterでは、画像を入れる位置を指定したり、画像の周りに枠線をつけたりできます。詳しくは「<a href="03-syntax.html#h3-13">3.13 画像</a>」を参照してください。</p>

<h3 class="none"><a id="h2-4-12"></a><span class="secno">2.4.12</span> ノート</h3>
<p>Starterでは、本文を補足する文章を「ノート」という囲み枠で表します。</p>
<div class="caption-code">
<span class="caption">サンプル</span>
<pre class="list"><b>//note</b>[ムスカの苦手なもの]{
実は、ムスカには「虫が苦手」という公式な設定があります。
有名な『読める、読めるぞ！』のシーンでムスカが顔の周りに群がるハエを追い払うのは、邪魔だったからだけでなく、虫が苦手だったからです。
//}
</pre>
</div>
<div class="sampleoutput">
<span class="caption">表示結果</span>
<div class="sampleoutput-inner">
<div class="note">
<h5>ムスカの苦手なもの</h5>
<p>実は、ムスカには「虫が苦手」という公式な設定があります。有名な『読める、読めるぞ！』のシーンでムスカが顔の周りに群がるハエを追い払うのは、邪魔だったからだけでなく、虫が苦手だったからです。</p>
</div>
</div></div>
<p>ノート本文には箇条書きやプログラムコードを埋め込めます。詳しくは「<a href="03-syntax.html#h3-11">3.11 ノート</a>」を参照してください。</p>
<p>また、補足情報や注意喚起や警告を表す囲み枠もあります。詳しくは「<a href="03-syntax.html#h3-11-3">3.11.3 ノート以外のミニブロック</a>」を参照してください。</p>
<div class="caption-code">
<span class="caption">サンプル</span>
<pre class="list"><b>//info</b>[解決のヒント]{
本製品を手に取り、古くから伝わるおまじないを唱えてみましょう。
すると天空の城への門が開きます。
//}

<b>//caution</b>[使用上の注意]{
本製品を石版にかざすと、天空の城から雷が発射されます。
周りに人がいないことを確かめてから使用してください。
//}

<b>//warning</b>[重大な警告]{
本製品を持ったまま滅びの呪文を唱えると、天空の城は自動的に崩壊します。
大変危険ですので、決して唱えないでください。
//}
</pre>
</div>
<div class="sampleoutput">
<span class="caption">表示結果</span>
<div class="sampleoutput-inner">
<div class="miniblock miniblock-info">
<p class="miniblock-caption">解決のヒント</p>
<p>本製品を手に取り、古くから伝わるおまじないを唱えてみましょう。すると天空の城への門が開きます。</p>
</div>
<div class="miniblock miniblock-caution">
<p class="miniblock-caption">使用上の注意</p>
<p>本製品を石版にかざすと、天空の城から雷が発射されます。周りに人がいないことを確かめてから使用してください。</p>
</div>
<div class="miniblock miniblock-warning">
<p class="miniblock-caption">重大な警告</p>
<p>本製品を持ったまま滅びの呪文を唱えると、天空の城は自動的に崩壊します。大変危険ですので、決して唱えないでください。</p>
</div>
</div></div>

<h3 class="none"><a id="h2-4-13"></a><span class="secno">2.4.13</span> 表</h3>
<p>表は、次のように書きます。</p>
<ul>
<li>「<code class="inline-code">//table[ラベル][説明文]{ ... //}</code>」で囲みます。
</li>
<li>セルは1つ以上のタブで区切ります。
</li>
<li>ヘッダの区切りは「<code class="inline-code">-</code>」または「<code class="inline-code">=</code>」を12個以上並べます。
</li>
<li>ラベルを使って「<code class="inline-code">@&lt;table&gt;{ラベル}</code>」のように参照できます。
</li>
</ul>
<div class="caption-code">
<span class="caption">サンプル</span>
<pre class="list"><b>//table[tbl-31][サンプル表]{</b>
Name    Val1    Val2
<b>--------------------</b>
AA      12      34
BB      56      78
<b>//}</b>
</pre>
</div>
<div class="sampleoutput">
<span class="caption">表示結果</span>
<div class="sampleoutput-inner">
<div id="tbl-31" class="table">
<p class="caption">表2.1: サンプル表</p>
<table>
<tr class="hline"><th>Name</th><th>Val1</th><th>Val2</th></tr>
<tr class="hline"><td>AA</td><td>12</td><td>34</td></tr>
<tr class="hline"><td>BB</td><td>56</td><td>78</td></tr>
</table>
</div>
</div></div>
<p>PDFではセルの右寄せ・左寄せ・中央揃えができます。またCSVファイルからデータを読み込めます。詳しくは「<a href="03-syntax.html#h3-14">3.14 表</a>」を参照してください。</p>

<h3 class="none"><a id="h2-4-14"></a><span class="secno">2.4.14</span> 数式</h3>
<p>LaTeXの書き方を使って数式を記述できます。</p>
<div class="caption-code">
<span class="caption">サンプル</span>
<pre class="list"><b>//texequation[euler][オイラーの公式]{</b>
e^{i\theta} = \sin{\theta} + i\cos{\theta}
<b>//}</b>

<b>@&lt;m&gt;$\theta = \pi$</b>のときは<b>@&lt;m&gt;$e^{i\pi} = -1$</b>となり、これはオイラーの等式と呼ばれます。
</pre>
</div>
<div class="sampleoutput">
<span class="caption">表示結果</span>
<div class="sampleoutput-inner">
<span class="caption">式2.1: オイラーの公式</span>
<div class="equation">
<pre>e^{i\theta} = \sin{\theta} + i\cos{\theta}
</pre>
</div>
<p><span class="equation">\theta = \pi</span>のときは<span class="equation">e^{i\pi} = -1</span>となり、これはオイラーの等式と呼ばれます。</p>
</div></div>
<p>詳しくは「<a href="03-syntax.html#h3-15">3.15 数式</a>」を参照してください。</p>

<h3 class="none"><a id="h2-4-15"></a><span class="secno">2.4.15</span> 会話形式</h3>
<p>Starterでは、会話形式も書けます。会話形式は、アイコン画像を使う方法と使わない方法があります。</p>
<div class="caption-code">
<span class="caption">サンプル</span>
<pre class="list"><b>//talklist{</b>
<b>//talk[avatar-b]</b>{
あの方は何も盗らなかったわ。私のために闘ってくださったんです。
//}
<b>//talk[avatar-g]</b>{
いや、ヤツはとんでもないものを盗んでいきました……
あなたの心です。
//}
<b>//}</b>
</pre>
</div>
<div class="sampleoutput">
<span class="caption">表示結果</span>
<div class="sampleoutput-inner">
<div class="talk-outer">
  <ul class="talk-list">
<li class="talk-item">
  <span class="talk-chara"><img class="talk-image" src="./images/avatar-b.png"/></span>
  <div class="talk-text"><p>あの方は何も盗らなかったわ。私のために闘ってくださったんです。</p></div>
</li>
<li class="talk-item">
  <span class="talk-chara"><img class="talk-image" src="./images/avatar-g.png"/></span>
  <div class="talk-text"><p>いや、ヤツはとんでもないものを盗んでいきました……あなたの心です。</p></div>
</li>
  </ul>
</div>
</div></div>
<div class="caption-code">
<span class="caption">サンプル</span>
<pre class="list"><b>//talklist{</b>
<b>//talk[][クラリス]</b>{
あの方は何も盗らなかったわ。私のために闘ってくださったんです。
//}
<b>//talk[][銭形警部]</b>{
いや、ヤツはとんでもないものを盗んでいきました……
あなたの心です。
//}
<b>//}</b>
</pre>
</div>
<div class="sampleoutput">
<span class="caption">表示結果</span>
<div class="sampleoutput-inner">
<div class="talk-outer">
  <ul class="talk-list">
<li class="talk-item">
  <span class="talk-chara"><b class="talk-name">クラリス</b></span>
  <div class="talk-text"><p>あの方は何も盗らなかったわ。私のために闘ってくださったんです。</p></div>
</li>
<li class="talk-item">
  <span class="talk-chara"><b class="talk-name">銭形警部</b></span>
  <div class="talk-text"><p>いや、ヤツはとんでもないものを盗んでいきました……あなたの心です。</p></div>
</li>
  </ul>
</div>
</div></div>
<p>詳しくは「<a href="03-syntax.html#h3-16">3.16 会話形式</a>」を参照してください。</p>
<div class="note">
<h5>白黒印刷でも判別できる画像を使う</h5>
<p>このサンプルでは、色が違うだけのアイコン画像を使っています。そのせいで、白黒印刷すると誰が誰だか判別できなくなります。もし白黒印刷するなら、色に頼らず判別できるようなアイコン画像を使いましょう。</p>
</div>
<div class="note">
<h5>会話形式にしても分かりやすくはならない</h5>
<p><strong>会話形式を採用しても、説明が分かりやすくなるとは限りません。</strong>会話形式にすると楽しさや親しみやすさを向上できますが、それは説明の分かりやすさとは違います。</p>
<p>会話形式だけど説明がよく分からない本はたくさんあります。先生役や先輩役のキャラクターが何かの説明をして、それが読者には伝わっていないのに、生徒役や後輩役のキャラクターが「なるほど！」とか「そういうことか！」と言っているような本、見たことありませんか？先生や先輩の説明を苦もなく理解できるほどの優秀な生徒や後輩は、本の中にしかいません。</p>
<p>同様のことはマンガ形式にもいえます。分かりやすく説明したいなら分かりやすく説明する技術を学ぶべきであり、マンガにしたり会話形式にすることではありません。</p>
<p>たとえば、『<a href="https://www.c-r.com/book/detail/1108" class="link">わかばちゃんと学ぶ　Git使い方入門</a>』が分かりやすいのはマンガだからではなく、分かりやすく説明する技術を作者の湊川先生が身につけているからです<sup><a id="fnb-fn-pwgc3" href="#fn-fn-pwgc3" class="noteref" epub:type="noteref">*16</a></sup>。<strong>分かりやすく説明できる人がたまたまマンガで説明しているから分かりやすいのであって、マンガや会話形式にすれば何でも分かりやすくなるわけではありません。</strong>ここを履き違えないようにしましょう。</p>
</div>
<div class="footnote-list">
<div class="footnote" id="fn-fn-pwgc3" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*16] </span><a href="https://www.youtube.com/watch?v=t2eiA2ylNW0" class="link">湊川先生による文章改善の発表動画</a>を見ると、分かりやすく説明する技術を先生自身が持っていることがよく分かります。</p></div>
</div><!--/.footnote-list-->

<h3 class="none"><a id="h2-4-16"></a><span class="secno">2.4.16</span> 用語、索引</h3>
<p>用語は「<code class="inline-code">@&lt;term&gt;{用語名((よみかた))}</code>」のように書くとゴシック体で表示され、かつ本の巻末の索引に載ります。ゴシック体にするけど索引に載せないなら「<code class="inline-code">@&lt;termnoidx&gt;{用語名}</code>」、ゴシック体にせず索引に載せるなら「<code class="inline-code">@&lt;idx&gt;{用語名((よみかた))}</code>」、索引に載せるけど表示はしないなら「<code class="inline-code">@&lt;hidx&gt;{用語名((よみかた))}</code>」とします。</p>
<p>索引は、デフォルトではオフになっています。索引を使うには、<span class="file">config.yml</span>で「<code class="inline-code">makeindex: true</code>」を設定してください（370行目ぐらいにあります）。索引はLaTeXの機能を使うので、今のところPDFでしかサポートされません。また索引機能をオンにするとLaTeXのコンパイル回数が増えるので、コンパイル時間が延びます。原稿執筆中はオフにし、完成間近になったらオンにするといいでしょう。</p>
<p>なお索引に登録する用語が何もない場合は、索引を使おうとするとコンパイルエラーになります。本文に1つでも「<code class="inline-code">@&lt;term&gt;{}</code>」や「<code class="inline-code">@&lt;idx&gt;{}</code>」を入れてから索引機能を有効化してください。</p>
<p>Starterでは索引語の親子関係を指定したり、ページ番号のかわりに「〜を見よ」と指定できます。詳しくは「<a href="03-syntax.html#h3-17">3.17 用語、索引</a>」を参照してください。</p>

<h3 class="none"><a id="h2-4-17"></a><span class="secno">2.4.17</span> 単語展開</h3>
<p>キーを単語に展開できます。たとえば辞書ファイル「<span class="file">data/words.txt</span>」の中に、キー「apple」に対応した単語「アップル」が登録されているとします。すると、本文に「<code class="inline-code">@&lt;w&gt;{apple}</code>」と書くと「アップル」に展開されます。「<code class="inline-code">@&lt;wb&gt;{apple}</code>」なら展開して太字になります。また「<code class="inline-code">@&lt;W&gt;{apple}</code>」なら展開して強調表示します。</p>
<p>この機能は、表記が定まっていない単語に使うと便利です。たとえば「Apple」と「アップル」のどちらの表記にするか悩んでるなら、本文には `アップル` と書いておけば、あとから辞書の中身を変えるだけでどちらの表記にも対応できます。</p>
<p>詳しくは「<a href="03-syntax.html#h3-18">3.18 単語展開</a>」を参照してください。</p>

<h2 id="sec-pdftype" class="underline"><a id="h2-5"></a><span class="secno">2.5</span> 印刷用PDFと電子用PDF</h2>
<p>Starterでは、印刷用と電子用とを切り替えてPDFファイルを生成できます。両者の違いはあとで説明するとして、まず印刷用と電子用のPDFファイルを生成する方法を説明します。</p>

<h3 class="none"><a id="h2-5-1"></a><span class="secno">2.5.1</span> 印刷用と電子用を切り替えてPDFを生成する</h3>
<p>Starterでは、印刷用と電子用とを切り替えてPDFを生成できます（デフォルトは印刷用）。具体的には次のどれかを行います<sup><a id="fnb-fn-0xkt4" href="#fn-fn-0xkt4" class="noteref" epub:type="noteref">*17</a></sup>。</p>
<ul>
<li>「<code class="inline-code">rake pdf <b>t=pbook</b></code>」を実行すると印刷用PDFが生成され、「<code class="inline-code">rake pdf <b>t=ebook</b></code>」<sup><a id="fnb-fn-3pf5z" href="#fn-fn-3pf5z" class="noteref" epub:type="noteref">*18</a></sup>を実行すると電子用PDFが生成される。
</li>
<li>環境変数「<code class="inline-code">$STARTER_TARGET</code>」を「<code class="inline-code">pbook</code>」に設定してから「`rake pdf`」を実行すると印刷用PDFが生成され、「<code class="inline-code">ebook</code>」に設定してから実行すると電子用PDFが生成される。
</li>
<li>「<span class="file">config-starter.yml</span>」に設定項目「<code class="inline-code">target:</code>」があるので、これを「<code class="inline-code">pbook</code>」（印刷用）または「<code class="inline-code">ebook</code>」（電子用）に設定する。
</li>
</ul>
<div class="footnote-list">
<div class="footnote" id="fn-fn-0xkt4" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*17] </span>強制力はこの順序であり、設定ファイルより環境変数のほうが、また環境変数より`rake`コマンドのオプションのほうが優先されます。</p></div>
<div class="footnote" id="fn-fn-3pf5z" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*18] </span>「<code class="inline-code">pbook</code>」は「printing book」、「<code class="inline-code">ebook</code>」は「electronic book」を表します。</p></div>
</div><!--/.footnote-list-->
<div class="cmd-code">
<span class="caption">macOSやLinuxの場合&lt;sup&gt;&lt;a id=&quot;fnb-fn-3pf5z&quot; href=&quot;#fn-fn-3pf5z&quot; class=&quot;noteref&quot; epub:type=&quot;noteref&quot;&gt;*18&lt;/a&gt;&lt;/sup&gt;</span>
<pre class="list">$ <span class="userinput">rake pdf <b>t=pbook</b></span>    <span class="balloon">← 印刷用PDFを生成</span>
$ <span class="userinput">rake pdf <b>t=ebook</b></span>    <span class="balloon">← 電子用PDFを生成</span>
## または
$ <span class="userinput"><b>export STARTER_TARGET=pbook</b></span>  <span class="balloon">← 印刷用に設定</span>
$ <span class="userinput">rake pdf</span>          <span class="balloon">← またはDockerを使うなら rake docker:pdf</span>
$ <span class="userinput"><b>export STARTER_TARGET=ebook</b></span>  <span class="balloon">← 電子用に設定</span>
$ <span class="userinput">rake pdf</span>          <span class="balloon">← またはDockerを使うなら rake docker:pdf</span>
</pre>
</div>
<p>Windowsの場合は、「<code class="inline-code">set STARTER_TARGET=pbook</code>」や「<code class="inline-code">set STARTER_TARGET=ebook</code>」を使って環境変数を設定してください。</p>
<p>環境変数を未設定に戻すには、次のようにします。</p>
<div class="cmd-code">
<span class="caption">macOSやLinuxの場合</span>
<pre class="list">$ <span class="userinput"><b>unset STARTER_TARGET</b></span>    <span class="balloon">← 環境変数を未設定に戻す</span>
</pre>
</div>

<h3 class="none"><a id="h2-5-2"></a><span class="secno">2.5.2</span> 印刷用PDFと電子用PDFの違い</h3>
<p>印刷用PDFと電子用PDFには、次のような違いがあります。</p>
<dl>
<dt>カラー</dt>
<dd>
	印刷用では、カラーは使われず白黒になります（画像は除く）。<br />
	電子用では、カラーが使われます<sup><a id="fnb-fn-8w0hm" href="#fn-fn-8w0hm" class="noteref" epub:type="noteref">*19</a></sup>。
</dd>
<dt>左右の余白幅</dt>
<dd>
	印刷用では、左右の余白幅が異なります。
	具体的には、見開きにおいて内側の余白を約2cm、外側の余白を約1.5cmにしています<sup><a id="fnb-fn-yuyf5" href="#fn-fn-yuyf5" class="noteref" epub:type="noteref">*20</a></sup>。
	これは見開きでの読みやすさを確保したうえで本文幅をできるだけ広げるための工夫です。<br />
	電子用では見開きを考慮する必要がないので、左右の余白幅は同じに設定されます。
</dd>
<dt>ノンブル</dt>
<dd>
	印刷用には自動的にノンブルがつき、電子用にはつきません。
	「ノンブル」とはすべてのページにつけられる通し番号であり、印刷所に入稿するときに必要です。
	ノンブルについての詳細は「<a href="05-faq.html#h5-5">5.5 ノンブル</a>」を参照してください。
</dd>
<dt>表紙</dt>
<dd>
	印刷用では、表紙がつきません。
	なぜなら、表紙のPDFファイルは本文とは別にして印刷所に入稿するからです。<br />
	電子用では、（設定されていれば）表紙がつきます<sup><a id="fnb-fn-yybgl" href="#fn-fn-yybgl" class="noteref" epub:type="noteref">*21</a></sup>。
</dd>
</dl>
<div class="footnote-list">
<div class="footnote" id="fn-fn-8w0hm" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*19] </span>カラーの設定は「<span class="file">sty/starter-color.sty</span>」を見てください。変更する場合はこのファイルではなく「<span class="file">sty/mystyle.sty</span>」に書くといいでしょう。</p></div>
<div class="footnote" id="fn-fn-yuyf5" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*20] </span>余白幅は初期設定によって多少の違いがあります。設定の詳細は「<span class="file">sty/mytextsize.sty</span>」を見てください。</p></div>
<div class="footnote" id="fn-fn-yybgl" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*21] </span>表紙のつけ方は「<a href="04-customize.html#h4-6-2">4.6.2 [PDF] 表紙や大扉や奥付となるPDFファイルを指定する</a>」を見てください。</p></div>
</div><!--/.footnote-list-->

<h2 id="sec-preview" class="underline"><a id="h2-6"></a><span class="secno">2.6</span> 高速プレビュー</h2>
<p>ページ数が多くなると、PDFファイルへのコンパイルに時間がかかるようになり、執筆に支障が出ます。</p>
<p>ここでは高速にプレビューするための機能を紹介します。</p>

<h3 class="none"><a id="h2-6-1"></a><span class="secno">2.6.1</span> 指定した章だけをコンパイルする</h3>
<p>Starterでは、指定した章(Chapter)だけをLaTeXでコンパイルできます。これは章の数が多い場合や、著者が多数いる合同誌の場合にはとても効果的です。具体的には次のようにします。</p>
<ul>
<li>「<code class="inline-code">rake pdf <b>c=03-syntax</b></code>」のようにすると、「<span class="file">03-syntax.re</span>」だけをコンパイルします。
</li>
<li>または環境変数「<code class="inline-code">$STARTER_CHAPTER</code>」を設定する方法でも、章を指定できます。
</li>
</ul>
<div class="cmd-code">
<span class="caption">例：03-syntax-faq.reだけをコンパイルする</span>
<pre class="list">$ <span class="userinput"><b>rake pdf c=03-syntax</b></span>   <span class="balloon">← 「.re」はつけない</span>
### または
$ <span class="userinput"><b>export STARTER_CHAPTER=03-syntax</b></span>   <span class="balloon">← 「.re」はつけない</span>
$ <span class="userinput">rake pdf</span>   <span class="balloon">← Dockerを使っているなら rake docker:pdf</span>
</pre>
</div>
<p>コンパイルする章を指定したとき、Starterは次のような動作になります。</p>
<ul>
<li>他の章は無視されます。
</li>
<li>表紙や、目次や、大扉や、奥付も無視されます。
</li>
<li>LaTeXのコンパイル回数が1回だけになります（コンパイル時間を短縮するため）。
</li>
</ul>
<p>なお「<code class="inline-code">$STARTER_CHAPTER</code>」を設定した場合、全体をコンパイルするときにはリセットしてください。</p>
<div class="cmd-code">
<span class="caption">全体をコンパイルする</span>
<pre class="list">$ <span class="userinput"><b>unset STARTER_CHAPTER</b></span>    <span class="balloon">← 「$」はつけないことに注意</span>
</pre>
</div>

<h3 class="none"><a id="h2-6-2"></a><span class="secno">2.6.2</span> コンパイル回数を1回だけに制限する</h3>
<p>Re:VIEWおよびStarterでは、LaTeXのコンパイルが最大で3回行われます<sup><a id="fnb-mb3pa" href="#fn-mb3pa" class="noteref" epub:type="noteref">*22</a></sup>。</p>
<div class="footnote-list">
<div class="footnote" id="fn-mb3pa" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*22] </span>索引があると、コンパイル回数がもう1回増えます。</p></div>
</div><!--/.footnote-list-->
<ul>
<li>1回目のコンパイルで章や節のページ番号が分かる。
</li>
<li>2回目のコンパイルで目次が作成される。
</li>
<li>もし2回目のコンパイルでページ番号が変わると、3回目のコンパイルが行われる。
</li>
</ul>
<p>しかし、ページ番号が合ってなくてもいいからとにかく仕上がりを確認したい場面はよくあり、そんなときは3回もコンパイルされるのは時間の無駄です。</p>
<p>そこでStarterでは、LaTeXのコンパイル回数を制限する機能を用意しました。</p>
<ul>
<li>「<code class="inline-code">rake pdf <b>n=1</b></code>」のようにすると、LaTeXのコンパイルが1回しか行われません。
</li>
<li>または環境変数「<code class="inline-code">$STARTER_COMPILETIMES</code>」を「<code class="inline-code">1</code>」に設定する方法でも、同じように制限できます。
</li>
</ul>
<div class="cmd-code">
<span class="caption">LaTeXのコンパイル回数を1回に制限してコンパイル</span>
<pre class="list">$ <span class="userinput">rake pdf <b>n=1</b> </span>
### または
$ <span class="userinput"><b>STARTER_COMPILETIMES=1</b> rake pdf</span>
</pre>
</div>

<h3 class="none"><a id="h2-6-3"></a><span class="secno">2.6.3</span> 画像読み込みを省略するドラフトモード</h3>
<p>Starterでは、画像の読み込みを省略する「ドラフトモード」を用意しました。ドラフトモードにすると、画像のかわりに枠線が表示されます。こうすると、（LaTeXのコンパイル時間は変わりませんが）DVIファイルからPDFを生成する時間が短縮されます。</p>
<p>図やスクリーンショットが多い場合や、印刷用に高解像度の画像を使っている場合は、この機能は特に効果が高いです。</p>
<p>ドラフトモードにするには、次のどれを実行します<sup><a id="fnb-fn-b5nlc" href="#fn-fn-b5nlc" class="noteref" epub:type="noteref">*23</a></sup>。</p>
<ul>
<li>「<code class="inline-code">rake pdf <b>d=on</b></code>」でコンパイルする。
</li>
<li>環境変数「<em>$STARTER_DRAFT</em>」の値を「<code class="inline-code">on</code>」に設定してからコンパイルする。
</li>
<li><span class="file">config-starter.yml</span>で「<code class="inline-code">draft: true</code>」を設定してからコンパイルする。
</li>
</ul>
<div class="footnote-list">
<div class="footnote" id="fn-fn-b5nlc" epub:type="footnote"><p class="footnote"><span class="footnote-mark">[*23] </span>強制力はこの順序であり、設定ファイルより環境変数のほうが、また環境変数より`rake`コマンドのオプションのほうが優先されます。</p></div>
</div><!--/.footnote-list-->
<div class="cmd-code">
<span class="caption">画像読み込みを省略するドラフトモードでPDFを生成する</span>
<pre class="list">$ <span class="userinput">rake pdf <b>d=on</b></span>     <span class="balloon">← ドラフトモードをonにする</span>
### または
$ <span class="userinput">export STARTER_DRAFT=on</span> <span class="balloon">← ドラフトモードをonにする</span>
$ <span class="userinput">rake pdf</span>                <span class="balloon">← またはDocker環境なら rake docker:pdf</span>
</pre>
</div>
<p>環境変数の設定をクリアするには、「<code class="inline-code">unset STARTER_DRAFT</code>」を実行してください。</p>
<p>また「ドラフトモードにしてPDF生成時間を短縮したい、でもこの画像は表示して確認したい」というときもあるでしょう。そんなときは「<code class="inline-code">//image[...][...][<b>draft=off</b>]</code>」のように指定すると、その画像はドラフトモードが解除されてPDFに表示されます。</p>

<h3 class="none"><a id="h2-6-4"></a><span class="secno">2.6.4</span> 自動リロードつきHTMLプレビュー</h3>
<p>Starterでは、HTMLでプレビューするための機能を用意しました。便利なことに、原稿を変更すると自動的にリロードされます。PDFと比べてHTMLの生成はずっと高速なので、原稿執筆中に入力間違いを見つけるにはHTMLのほうが向いています。</p>
<p>使い方は、まずWebサーバを起動します。</p>
<div class="cmd-code">
<span class="caption">Webサーバを起動する</span>
<pre class="list">$ <span class="userinput">rake web:server</span>          <span class="balloon">← Dockerを使っていない場合</span>
$ <span class="userinput">rake docker:web:server</span>   <span class="balloon">← Dockerを使っている場合</span>
</pre>
</div>
<p>起動したらブラウザで <em>http://localhost:9000/</em> にアクセスし、適当な章を開いてください。そして開いた章の原稿ファイル（<span class="file">*.re</span>）を変更すると、ブラウザの画面が自動的にリロードされ、変更が反映されます。</p>
<p>原稿執筆中は、エディタのウィンドウの後ろにプレビュー画面が少し見えるようにするといいでしょう。</p>
<p>いくつか注意点があります。</p>
<ul>
<li>表示はHTMLで行っているため、PDFでの表示とは差異があります。
   執筆中はHTMLでプレビューし、区切りのいいところでPDFによる表示を確認するといいでしょう。
</li>
<li>今のところ数式はプレビューできません。
</li>
<li>変更が反映されるのは、開いているページと対応した原稿ファイルが変更された場合だけです。
   たとえば「<span class="file">foo.html</span>」を開いているときに「<span class="file">foo.re</span>」を変更するとプレビューに反映されますが、別の「<span class="file">bar.re</span>」を変更しても反映されません。
</li>
<li>画面右上の「Rebuild and Reload」リンクをクリックすると、原稿ファイルが変更されていなくても強制的にコンパイルとリロードがされます。
</li>
<li>原稿ファイルに入力間違いがあった場合は、画面にエラーが表示されます。
   エラー表示はあまり分かりやすくないので、今後改善される予定です。
</li>
<li>Webサーバを終了するには、Controlキーを押しながら「c」を押してください。
</li>
</ul>

        </main>
        <nav class="page-navi">
          <a href="01-install.html" class="page-prev">&#9664;</a>
          <a href="03-syntax.html" class="page-next">&#9654;</a>
        </nav>
        <footer>
        </footer>
      </div>
    </div>
  </body>
</html>
<!-- layout.html5.erb -->
